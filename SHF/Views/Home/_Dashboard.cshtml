
<link rel="stylesheet" href="~/dashboard_theme/assets/js/jquery-ui/css/no-theme/jquery-ui-1.10.3.custom.min.css">
<link rel="stylesheet" href="~/dashboard_theme/assets/css/font-icons/entypo/css/entypo.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic">
<link rel="stylesheet" href="~/dashboard_theme/assets/css/bootstrap.css">
<link rel="stylesheet" href="~/dashboard_theme/assets/css/neon-core.css">
<link rel="stylesheet" href="~/dashboard_theme/assets/css/neon-theme.css">
<link rel="stylesheet" href="~/dashboard_theme/assets/css/neon-forms.css">
<link rel="stylesheet" href="~/dashboard_theme/assets/css/custom.css">
<script src="~/dashboard_theme/assets/js/jquery-1.11.3.min.js"></script>

<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $('.pie').sparkline('html', {
            type: 'pie',
            borderWidth: 0,
            sliceColors: ['#3d4554', '#ee4749', '#00b19d']
        });


        $(".chart").sparkline([1, 2, 3, 1], {
            type: 'pie',
            barColor: '#485671',
            height: '110px',
            barWidth: 10,
            barSpacing: 2
        });

        var map = $("#map");

        map.vectorMap({
            map: 'europe_merc_en',
            zoomMin: '3',
            backgroundColor: '#00a651',
            focusOn: { x: 0.5, y: 0.8, scale: 3 }
        });



        // Rickshaw
        var seriesData = [[], []];

        var random = new Rickshaw.Fixtures.RandomData(50);

        for (var i = 0; i < 90; i++) {
            random.addData(seriesData);
        }

        var graph = new Rickshaw.Graph({
            element: document.getElementById("rickshaw-chart-demo-2"),
            height: 217,
            renderer: 'area',
            stroke: false,
            preserve: true,
            series: [{
                color: '#359ade',
                data: seriesData[0],
                name: 'Page Views'
            }, {
                color: '#73c8ff',
                data: seriesData[1],
                name: 'Unique Users'
            }, {
                color: '#e0f2ff',
                data: seriesData[1],
                name: 'Bounce Rate'
            }
            ]
        });

        graph.render();

        var hoverDetail = new Rickshaw.Graph.HoverDetail({
            graph: graph,
            xFormatter: function (x) {
                return new Date(x * 1000).toString();
            }
        });

        var legend = new Rickshaw.Graph.Legend({
            graph: graph,
            element: document.getElementById('rickshaw-legend')
        });

        var highlighter = new Rickshaw.Graph.Behavior.Series.Highlight({
            graph: graph,
            legend: legend
        });

        setInterval(function () {
            random.removeData(seriesData);
            random.addData(seriesData);
            graph.update();

        }, 500);

    });
</script>


<div class="row">
    <div class="col-sm-12">
        <div class="well">

            <div class="jumbotron">
                <h1>
                    SHIVA
                    <small>B F Solutions</small>
                </h1>
            </div>

        </div>
    </div>
</div>

<div class="row">

    <div class="col-sm-9">

        <div class="row">

            <div class="col-sm-6">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">New vs Returning Visitors</div>

                        <div class="panel-options">
                            <a href="#sample-modal" data-toggle="modal" data-target="#sample-modal-dialog-1" class="bg"><i class="entypo-cog"></i></a>
                            <a href="#" data-rel="collapse"><i class="entypo-down-open"></i></a>
                            <a href="#" data-rel="reload"><i class="entypo-arrows-ccw"></i></a>
                            <a href="#" data-rel="close"><i class="entypo-cancel"></i></a>
                        </div>
                    </div>
                    <div class="panel-body">
                        <center><span class="chart"></span></center>
                    </div>
                </div>

            </div>

            <div class="col-sm-6">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="panel-title">Url Views</div>

                        <div class="panel-options">
                            <a href="#sample-modal" data-toggle="modal" data-target="#sample-modal-dialog-1" class="bg"><i class="entypo-cog"></i></a>
                            <a href="#" data-rel="collapse"><i class="entypo-down-open"></i></a>
                            <a href="#" data-rel="reload" onclick="GetUrlViews();"><i class="entypo-arrows-ccw"></i></a>
                            <a href="#" data-rel="close"><i class="entypo-cancel"></i></a>
                        </div>
                    </div>
                    <div class="scrollable" data-height="150" data-rail-opacity="1" data-rail-color="blue" style="overflow: hidden; height: 200px;">
                        <table class="table table-bordered table-responsive">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Url</th>
                                    <th>Views</th>
                                    <th>Activity</th>
                                </tr>
                            </thead>

                            <tbody id="tblUrlViews">
                                <tr>
                                    <td>1</td>
                                    <td>Art Ramadani</td>
                                    <td>CEO</td>
                                    <td class="text-center"><span class="pie">4,3,5</span></td>
                                </tr>


                            </tbody>
                        </table>
                    </div>
                </div>

            </div>

        </div>


        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="panel-title">
                    <h4>
                        Real Time Stats
                        <br />
                        <small>current server uptime</small>
                    </h4>
                </div>

                <div class="panel-options">
                    <a href="#sample-modal" data-toggle="modal" data-target="#sample-modal-dialog-1" class="bg"><i class="entypo-cog"></i></a>
                    <a href="#" data-rel="collapse"><i class="entypo-down-open"></i></a>
                    <a href="#" data-rel="reload"><i class="entypo-arrows-ccw"></i></a>
                    <a href="#" data-rel="close"><i class="entypo-cancel"></i></a>
                </div>
            </div>

            <div class="panel-body no-padding">
                <div id="rickshaw-chart-demo-2">
                    <div id="rickshaw-legend"></div>
                </div>
            </div>
        </div>

    </div>

    <div class="col-sm-3">

        <div class="tile-progress tile-red">
            <div class="tile-header">
                <h3>Page Views</h3>
                <span>so far in our blog, and our website.</span>
            </div>

            <div class="tile-progressbar">
                <span data-fill="35.5%"></span>
            </div>

            <div class="tile-footer">
                <h4>
                    <span class="pct-counter">0</span>% increase
                </h4>

                <span>so far in our blog and our website</span>
            </div>
        </div>

        <div class="tile-progress tile-green">
            <div class="tile-header">
                <h3>Unique Users</h3>
                <span>so far in our blog, and our website.</span>
            </div>

            <div class="tile-progressbar">
                <span data-fill="51.2%"></span>
            </div>

            <div class="tile-footer">
                <h4>
                    <span class="pct-counter">0</span>% increase
                </h4>

                <span>so far in our blog and our website</span>
            </div>
        </div>

        <div class="tile-progress tile-aqua">
            <div class="tile-header">
                <h3>Bounce Rate</h3>
                <span>so far in our blog, and our website.</span>
            </div>

            <div class="tile-progressbar">
                <span data-fill="69.9%"></span>
            </div>

            <div class="tile-footer">
                <h4>
                    <span class="pct-counter">0</span>% increase
                </h4>

                <span>so far in our blog and our website</span>
            </div>
        </div>

    </div>

</div>



<div class="col-md-12">
    <div class="panel panel-default" data-collapsed="0">
        <!-- to apply shadow add class "panel-shadow" -->
        <!-- panel head -->
        <div class="panel-heading">
            <div class="panel-title">Large Bar Chart</div>

            <div class="panel-options">
                <a href="#sample-modal" data-toggle="modal" data-target="#sample-modal-dialog-3" class="bg"><i class="entypo-cog"></i></a>
                <a href="#" data-rel="collapse"><i class="entypo-down-open"></i></a>
                <a href="#" data-rel="reload"><i class="entypo-arrows-ccw"></i></a>
                <a href="#" data-rel="close"><i class="entypo-cancel"></i></a>
            </div>
        </div>

        <!-- panel body -->
        <div class="panel-body">

            <div class="text-center">
                <span class="bar-large"></span>
            </div>
        </div>
    </div>
</div>

<!-- Imported styles on this page -->
<link rel="stylesheet" href="~/dashboard_theme/assets/js/jvectormap/jquery-jvectormap-1.2.2.css">
<link rel="stylesheet" href="~/dashboard_theme/assets/js/rickshaw/rickshaw.min.css">
<!-- Bottom scripts (common) -->
<script src="~/dashboard_theme/assets/js/gsap/TweenMax.min.js"></script>
<script src="~/dashboard_theme/assets/js/jquery-ui/js/jquery-ui-1.10.3.minimal.min.js"></script>
<script src="~/dashboard_theme/assets/js/bootstrap.js"></script>
<script src="~/dashboard_theme/assets/js/joinable.js"></script>
<script src="~/dashboard_theme/assets/js/resizeable.js"></script>
<script src="~/dashboard_theme/assets/js/neon-api.js"></script>
<script src="~/dashboard_theme/assets/js/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>

<!-- Imported scripts on this page -->
<script src="~/dashboard_theme/assets/js/jvectormap/jquery-jvectormap-europe-merc-en.js"></script>
<script src="~/dashboard_theme/assets/js/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<script src="~/dashboard_theme/assets/js/jquery.sparkline.min.js"></script>
<script src="~/dashboard_theme/assets/js/rickshaw/vendor/d3.v3.js"></script>
<script src="~/dashboard_theme/assets/js/rickshaw/rickshaw.min.js"></script>

<!-- JavaScripts initializations and stuff -->
<script src="~/dashboard_theme/assets/js/neon-custom.js"></script>

<!-- Demo Settings -->
<script src="~/dashboard_theme/assets/js/neon-demo.js"></script>
<script type="text/javascript">
    jQuery(document).ready(function ($) {

        $(".bar-large").sparkline([5, 6, 7, 2, 1, 0, 4, 3, 5, 7, 2, 4], {
            type: 'bar',
            barColor: '#ff6264',
            height: '150px',
            barWidth: 100,
            barSpacing: 10

        });
        GetUrlViews();

    });
    function GetUrlViews() {
        //  debugger;
        jQuery.support.cors = true;
        var serviceURL = "Get/PageViewsReport/GetAllPageViewsReportByTenantIdAsync";
        //$("#loader").show();
        $.ajax({
            type: "GET", //rest Type
            dataType: 'json', //mispelled
            url: serviceURL,
            contentType: "application/json; charset=utf-8",
            crossDomain: true,
            success: function (data) {
                console.log(data);
                var contentPageViewsReport = "";
                var i = 1;
                data.Entity.forEach(function (item) {

                    contentPageViewsReport += '<tr><td>' + i++ + '</td>';
                    contentPageViewsReport += '<td>/' + item.Url + '</td>';
                    contentPageViewsReport += '<td>' + item.Count + '</td>';
                    contentPageViewsReport += '<td class="text-center"><span class="pie">' + item.Count + ',' + item.TotalCount + '</span></td>';
                    contentPageViewsReport += '</tr>';

                });

                $('#tblUrlViews').html(contentPageViewsReport);
                $('.pie').sparkline('html', {
                    type: 'pie',
                    borderWidth: 0,
                    sliceColors: ['#3d4554', '#ee4749']
                });
            }
        });

       

    }
</script>